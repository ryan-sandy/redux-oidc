!function(e,r){if("object"==typeof exports&&"object"==typeof module)module.exports=r(require("react"),require("prop-types"),require("oidc-client-ts"));else if("function"==typeof define&&define.amd)define(["react","prop-types","oidc-client-ts"],r);else{var t="object"==typeof exports?r(require("react"),require("prop-types"),require("oidc-client-ts")):r(e.react,e["prop-types"],e["oidc-client-ts"]);for(var n in t)("object"==typeof exports?exports:e)[n]=t[n]}}(this,function(e,r,t){return function(e){function r(n){if(t[n])return t[n].exports;var u=t[n]={i:n,l:!1,exports:{}};return e[n].call(u.exports,u,u.exports,r),u.l=!0,u.exports}var t={};return r.m=e,r.c=t,r.i=function(e){return e},r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},r.p="",r(r.s=15)}([function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.USER_EXPIRED="redux-oidc/USER_EXPIRED",r.SILENT_RENEW_ERROR="redux-oidc/SILENT_RENEW_ERROR",r.SESSION_TERMINATED="redux-oidc/SESSION_TERMINATED",r.USER_EXPIRING="redux-oidc/USER_EXPIRING",r.USER_FOUND="redux-oidc/USER_FOUND",r.LOADING_USER="redux-oidc/LOADING_USER",r.USER_SIGNED_OUT="redux-oidc/USER_SIGNED_OUT",r.LOAD_USER_ERROR="redux-oidc/LOAD_USER_ERROR"},function(e,r,t){"use strict";function n(){return{type:l.USER_EXPIRED}}function u(e){return{type:l.USER_FOUND,payload:e}}function o(e){return{type:l.SILENT_RENEW_ERROR,payload:e}}function i(){return{type:l.SESSION_TERMINATED}}function s(){return{type:l.USER_EXPIRING}}function a(){return{type:l.LOADING_USER}}function c(){return{type:l.USER_SIGNED_OUT}}function d(){return{type:l.LOAD_USER_ERROR}}Object.defineProperty(r,"__esModule",{value:!0}),r.userExpired=n,r.userFound=u,r.silentRenewError=o,r.sessionTerminated=i,r.userExpiring=s,r.loadingUser=a,r.userSignedOut=c,r.loadUserError=d;var l=t(0)},function(e,r){e.exports=require("react")},function(e,r,t){"use strict";function n(e){return new u.UserManager(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var u=t(14)},function(e,r){e.exports=require("prop-types")},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.loadUserError=r.userSignedOut=r.loadingUser=r.userExpiring=r.sessionTerminated=r.silentRenewError=r.userFound=r.userExpired=r.LOAD_USER_ERROR=r.USER_SIGNED_OUT=r.LOADING_USER=r.USER_EXPIRING=r.SESSION_TERMINATED=r.SILENT_RENEW_ERROR=r.USER_FOUND=r.USER_EXPIRED=r.SignoutCallbackComponent=r.OidcProvider=r.reducer=r.createImmutableReducer=r.CallbackComponent=r.loadUser=r.processSilentRenew=r.createUserManager=void 0;var n=t(11),u=function(e){return e&&e.__esModule?e:{default:e}}(n);r.createUserManager=t(3).default,r.processSilentRenew=t(10).default,r.loadUser=t(9).default,r.CallbackComponent=t(6).default,r.createImmutableReducer=t(12).default,r.reducer=t(13).default,r.OidcProvider=t(7).default,r.SignoutCallbackComponent=t(8).default,r.USER_EXPIRED=t(0).USER_EXPIRED,r.USER_FOUND=t(0).USER_FOUND,r.SILENT_RENEW_ERROR=t(0).SILENT_RENEW_ERROR,r.SESSION_TERMINATED=t(0).SESSION_TERMINATED,r.USER_EXPIRING=t(0).USER_EXPIRING,r.LOADING_USER=t(0).LOADING_USER,r.USER_SIGNED_OUT=t(0).USER_SIGNED_OUT,r.LOAD_USER_ERROR=t(0).LOAD_USER_ERROR,r.userExpired=t(1).userExpired,r.userFound=t(1).userFound,r.silentRenewError=t(1).silentRenewError,r.sessionTerminated=t(1).sessionTerminated,r.userExpiring=t(1).userExpiring,r.loadingUser=t(1).loadingUser,r.userSignedOut=t(1).userSignedOut,r.loadUserError=t(1).loadUserError,r.default=u.default},function(e,r,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function u(e){return function(){var r=e.apply(this,arguments);return new Promise(function(e,t){function n(u,o){try{var i=r[u](o),s=i.value}catch(e){return void t(e)}if(!i.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}return n("next")})}}Object.defineProperty(r,"__esModule",{value:!0});var o=t(4),i=n(o),s=t(2),a=n(s),c=function(e){var r=e.children,t=e.userManager,n=e.successCallback,o=e.errorCallback,i=(0,s.useRef)(!1);return(0,s.useEffect)(function(){var e=function(){var e=u(regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.signinRedirectCallback();case 3:if(!(r=e.sent)){e.next=8;break}n(r),e.next=9;break;case 8:throw new Error("User is not authenticated");case 9:e.next=16;break;case 11:if(e.prev=11,e.t0=e.catch(0),o){e.next=15;break}throw new Error("Error handling redirect callback: "+e.t0.message);case 15:o(e.t0);case 16:case"end":return e.stop()}},e,void 0,[[0,11]])}));return function(){return e.apply(this,arguments)}}();return i.current||e(),function(){i.current=!0}},[]),a.default.Children.only(r)};c.propTypes={children:i.default.element.isRequired,userManager:i.default.object.isRequired,successCallback:i.default.func.isRequired,errorCallback:i.default.func},r.default=c},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t(2),u=function(e){return e&&e.__esModule?e:{default:e}}(n),o=t(1),i=function(e){var r=e.children,t=e.userManager,i=e.store,s=function(e){i.dispatch((0,o.userFound)(e))},a=function(e){i.dispatch((0,o.silentRenewError)(e))},c=function(){i.dispatch((0,o.userExpired)())},d=function(){i.dispatch((0,o.sessionTerminated)())},l=function(){i.dispatch((0,o.userExpiring)())},f=function(){i.dispatch((0,o.userSignedOut)())};return(0,n.useEffect)(function(){return t.events.addUserLoaded(s),t.events.addSilentRenewError(a),t.events.addAccessTokenExpired(c),t.events.addAccessTokenExpiring(l),t.events.addUserUnloaded(d),t.events.addUserSignedOut(f),function(){t.events.removeUserLoaded(s),t.events.removeSilentRenewError(a),t.events.removeAccessTokenExpired(c),t.events.removeAccessTokenExpiring(l),t.events.removeUserUnloaded(d),t.events.removeUserSignedOut(f)}},[]),u.default.Children.only(r)};r.default=i},function(e,r,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function u(e){return function(){var r=e.apply(this,arguments);return new Promise(function(e,t){function n(u,o){try{var i=r[u](o),s=i.value}catch(e){return void t(e)}if(!i.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)});e(s)}return n("next")})}}Object.defineProperty(r,"__esModule",{value:!0});var o=t(4),i=n(o),s=t(2),a=n(s),c=function(e){var r=e.children,t=e.userManager,n=e.successCallback,o=e.errorCallback,i=(0,s.useRef)(!1);return(0,s.useEffect)(function(){var e=function(){var e=u(regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.signoutRedirectCallback();case 3:if(!(r=e.sent)){e.next=8;break}n(r),e.next=9;break;case 8:throw new Error("User is not authenticated");case 9:e.next=16;break;case 11:if(e.prev=11,e.t0=e.catch(0),o){e.next=15;break}throw new Error("Error handling redirect callback: "+e.t0.message);case 15:o(e.t0);case 16:case"end":return e.stop()}},e,void 0,[[0,11]])}));return function(){return e.apply(this,arguments)}}();return i.current||e(),function(){i.current=!0}},[]),a.default.Children.only(r)};c.propTypes={children:i.default.element.isRequired,userManager:i.default.object.isRequired,successCallback:i.default.func.isRequired,errorCallback:i.default.func},r.default=c},function(e,r,t){"use strict";function n(e){c=e}function u(){return c}function o(e){return e&&!e.expired?c.dispatch((0,a.userFound)(e)):(!e||e&&e.expired)&&c.dispatch((0,a.userExpired)()),e}function i(e){console.error("redux-oidc: Error in loadUser() function: "+e.message),c.dispatch((0,a.loadUserError)())}function s(e,r){if(!e||!e.dispatch)throw new Error("redux-oidc: You need to pass the redux store into the loadUser helper!");if(!r||!r.getUser)throw new Error("redux-oidc: You need to pass the userManager into the loadUser helper!");return c=e,e.dispatch((0,a.loadingUser)()),r.getUser().then(o).catch(i)}Object.defineProperty(r,"__esModule",{value:!0}),r.setReduxStore=n,r.getReduxStore=u,r.getUserCallback=o,r.errorCallback=i,r.default=s;var a=t(1),c=void 0},function(e,r,t){"use strict";function n(){(0,o.default)().signinSilentCallback()}Object.defineProperty(r,"__esModule",{value:!0}),r.default=n;var u=t(3),o=function(e){return e&&e.__esModule?e:{default:e}}(u)},function(e,r,t){"use strict";function n(e){r.nextMiddleware=p=e}function u(){return p}function o(e){r.storedUser=E=e}function i(){r.storedUser=E=null}function s(e){!e||e.expired?p((0,l.userExpired)()):(r.storedUser=E=e,p((0,l.userFound)(e)))}function a(e){console.error("redux-oidc: Error loading user in oidcMiddleware: "+e.message),p((0,l.loadUserError)())}function c(e,t,n){return t.type===f.USER_EXPIRED||t.type===f.LOADING_USER||t.type===f.USER_FOUND?e(t):(r.nextMiddleware=p=e,E&&!E.expired||(e((0,l.loadingUser)()),n.getUser().then(s).catch(a)),e(t))}function d(e){if(!e||!e.getUser)throw new Error("You must provide a user manager!");return function(r){return function(r){return function(t){return c(r,t,e)}}}}Object.defineProperty(r,"__esModule",{value:!0}),r.nextMiddleware=r.storedUser=void 0,r.setNext=n,r.getNext=u,r.setStoredUser=o,r.removeStoredUser=i,r.getUserCallback=s,r.errorCallback=a,r.middlewareHandler=c,r.default=d;var l=t(1),f=t(0),E=r.storedUser=null,p=r.nextMiddleware=null},function(e,r,t){"use strict";function n(e){try{var r=e.fromJS,t=e.Seq,n=function e(r){return"object"!==(void 0===r?"undefined":u(r))||null===r?r:Array.isArray(r)?t(r).map(e).toList():t(r).map(e).toMap()},i=r({user:null,isLoadingUser:!1});return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case o.USER_EXPIRED:case o.SILENT_RENEW_ERROR:case o.SESSION_TERMINATED:case o.USER_SIGNED_OUT:return r({user:null,isLoadingUser:!1});case o.USER_FOUND:return n({user:t.payload,isLoadingUser:!1});case o.LOADING_USER:return e.set("isLoadingUser",!0);default:return e}}}catch(e){}}Object.defineProperty(r,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r.default=n;var o=t(0)},function(e,r,t){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,r=arguments[1];switch(r.type){case o.USER_EXPIRED:case o.SILENT_RENEW_ERROR:return Object.assign({},u({},e),{user:null,isLoadingUser:!1});case o.SESSION_TERMINATED:case o.USER_SIGNED_OUT:return Object.assign({},u({},e),{user:null,isLoadingUser:!1});case o.USER_FOUND:return Object.assign({},u({},e),{user:r.payload,isLoadingUser:!1});case o.LOADING_USER:return Object.assign({},u({},e),{isLoadingUser:!0});default:return e}}Object.defineProperty(r,"__esModule",{value:!0});var u=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};r.default=n;var o=t(0),i={user:null,isLoadingUser:!1}},function(e,r){e.exports=require("oidc-client-ts")},function(e,r,t){e.exports=t(5)}])});